Name:           openwsman-yast
Version:       @PACKAGE_VERSION@
Release:        2
License:        BSD-3-Clause
Url:            http://build.opensuse.org/project/show?project=home%3Akwk
Source:         %{name}-%{version}.tar.bz2
BuildRoot:      %{_tmppath}/%{name}-%{version}-build
Group:          System/Management
BuildRequires:  openwsman >= 1.5.0 libwsman-devel >= 1.5.0 gcc-c++ pkgconfig libxml2-devel yast2-core-devel libxcrypt-devel
Requires:       openwsman-server >= 1.5.0
Requires:	yast2-core
Summary:        YaST plugin for openwsman-server


%description
This package provides a YaST plugin for wsmand, the WS Management
Daemon. The plugin makes YaST (the ycp layer api) remotely accessible.
Combined with rwsman (the openwsman client bindings for Ruby) and Ruby
On Rails, one can e.g. easily create a Web interface for YaST.

%prep
%setup

%build
%configure --prefix=/usr --libdir=%{_libdir} --sysconfdir=/etc --docdir=/usr/share/doc/packages/openwsman --disable-static
make

%install
make DESTDIR=%{buildroot} install
rm %{buildroot}%{_libdir}/openwsman/plugins/*.la

%clean
rm -rf "$RPM_BUILD_ROOT"

%files
%defattr(-,root,root)
%dir %{_libdir}/openwsman
%dir %{_libdir}/openwsman/plugins
%{_libdir}/openwsman/plugins/*so*

%changelog
